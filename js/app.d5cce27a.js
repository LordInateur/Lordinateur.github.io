(function(t){function e(e){for(var r,n,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)n=i[u],a[n]&&m.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,n=1;n<s.length;n++){var l=s[n];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},a={app:0},o=[];function n(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"9f119f81"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(t){var e=[],s=a[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise(function(e,r){s=a[t]=[e,r]});e.push(s[2]=r);var o,l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=n(t),o=function(e){c.onerror=c.onload=null,clearTimeout(u);var s=a[t];if(0!==s){if(s){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");n.type=r,n.request=o,s[1](n)}a[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,l.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var r=s("64a9"),a=s.n(r);a.a},1923:function(t,e,s){"use strict";var r=s("bf97"),a=s.n(r);a.a},"3beb":function(t,e,s){},"49e5":function(t,e,s){"use strict";var r=s("a4e9"),a=s.n(r);a.a},5065:function(t,e,s){"use strict";var r=s("8235"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var r=s("2b0e"),a=s("9f7b"),o=(s("f9e3"),s("2dd8"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("MyNavbar",{attrs:{isNotLogin:t.isNotLogin()}}),s("router-view")],1)}),n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"MyNavbar"}},[s("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),s("router-link",{attrs:{to:"/"}},[s("b-navbar-brand",[t._v("NavBar")])],1),s("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[this.$root.isLoggin?s("b-navbar-nav",[t.isAdmin()?s("b-nav-item",{attrs:{href:"#"},on:{click:function(e){t.resetData()}}},[t._v("Reset Data")]):t._e(),this.$root.isLoggin?s("b-nav-item",{attrs:{href:"#",to:"/planning"}},[t._v("Planning")]):t._e(),s("b-nav-item",{attrs:{href:"#"}},[t._v("Link")]),s("b-nav-item",{attrs:{href:"#",disabled:""}},[t._v("Disabled")])],1):t._e(),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-form",[s("b-form-select",{attrs:{size:"sm",options:t.langs},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1),s("b-nav-form",[s("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",type:"text",placeholder:"Search"}}),s("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[t._v("Search")])],1),this.$root.isLoggin?s("b-nav-item-dropdown",{attrs:{right:""}},[s("template",{slot:"button-content"},[s("em",[t._v(t._s(this.$root.getLoggedUser().pseudo))])]),s("b-dropdown-item",{attrs:{to:"/profil"}},[t._v("Profile")]),s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){t.logout()}}},[t._v("Signout")])],2):t._e()],1)],1)],1)],1)},l=[],c=s("ade3"),u=Object(c["a"])({name:"MyNavbar",props:{msg:String},data:function(){return{langs:[{value:"FR",text:"FR"},{value:"DE",text:"DE"},{value:"UK",text:"UK"},{value:"ES",text:"ES"}],lang:"FR"}},computed:{isLogin:function(){return console.log("NavBar isLogin computed : "+this.$root.isLogged()),this.$root.isLogged()}},created:function(){console.log("NavBar created"),this.$root.isLoggin=this.$root.isLogged()},methods:{logout:function(){console.log("logout"),this.$root.logout(),this.$root.isLoggin=!1,this.$router.push("login")},resetData:function(){this.$root.resetData(),alert("Data have been reseted")},isAdmin:function(){return this.$root.getLoggedUser().roles.indexOf("ADMIN")>-1}}},"props",{}),d=u,m=(s("6422"),s("2877")),f=Object(m["a"])(d,i,l,!1,null,"9b8b584a",null);f.options.__file="MyNavbar.vue";var p=f.exports,v={name:"app",data:function(){return{userName:"InitName",userRight:""}},methods:{isNotLogin:function(){return!this.$root.isLogged()}},components:{MyNavbar:p}},h=v,g=(s("034f"),Object(m["a"])(h,o,n,!1,null,null,null));g.options.__file="App.vue";var _=g.exports,C=s("8c4f"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dashboard"},[r("br"),r("h1",[t._v("Welcome to your dashboard "+t._s(t.user.pseudo))]),r("img",{attrs:{alt:"Vue logo",src:s("cf05")}}),r("div",{staticClass:"container"},[r("div",[r("b-form-group",[r("b-form-radio-group",{attrs:{buttons:"",options:t.options,name:"radiosBtnDefault"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),r("br"),r("br"),r("div",{staticClass:"row border border-dark border-bottom-0 rounded bold"},[r("div",{staticClass:"col-md-7"},[t._v("Titre")]),r("div",{staticClass:"col-md-1"},[t._v("---")]),r("div",{staticClass:"col-md-4"},[t._v(" "+t._s(t.selectedContract.titre)+" ")])]),r("div",{staticClass:"row border border-dark border-bottom-0 rounded"},[r("div",{staticClass:"col-md-7"},[t._v("Debut")]),r("div",{staticClass:"col-md-1"},[t._v("---")]),r("div",{staticClass:"col-md-4"},[t._v(" "+t._s(t.selectedContract.dateDebut)+" ")])]),r("div",{staticClass:"row border border-dark border-bottom-0 rounded"},[r("div",{staticClass:"col-md-7"},[t._v("Fin")]),r("div",{staticClass:"col-md-1"},[t._v("---")]),r("div",{staticClass:"col-md-4"},[t._v(" "+t._s(t.selectedContract.dateFin)+" ")])]),r("div",{staticClass:"row border border-dark border-bottom-0 rounded"},[r("div",{staticClass:"col-md-7"},[t._v("Nombre d'heure par semaine")]),r("div",{staticClass:"col-md-1"},[t._v("---")]),r("div",{staticClass:"col-md-4"},[t._v(" "+t._s(t.selectedContract.nbHeureSemaine)+" ")])]),r("div",{staticClass:"row border border-dark rounded"},[r("div",{staticClass:"col-md-7"},[t._v("Nombre de demande exceptionnel")]),r("div",{staticClass:"col-md-1"},[t._v("---")]),r("div",{staticClass:"col-md-4"},[t._v(" "+t._s(t.selectedContract.demandes.length)+" ")])])])])},U=[],N=(s("7514"),s("55dd"),{name:"dashboard",components:{},created:function(){console.log("Home created"),this.$root.isLogged()?(this.user=this.$root.getLoggedUser(),this.selected=this.getCurrentContract(this.user).id,this.user.contrats.sort(function(t,e){return t.dateDebut<=e.dateDebut})):this.$router.push("login")},mounted:function(){},updated:function(){},data:function(){return{user:{},selected:-1}},methods:{getCurrentContract:function(t){var e=this;return t.contrats.find(function(t){return t.dateDebut<=e.$root.formatDate(new Date)&&e.$root.formatDate(new Date)<=t.dateFin})||{id:-1}}},computed:{options:function(){return this.user.contrats.map(function(t){return{text:t.titre,value:t.id}})},selectedContract:function(){var t=this;return this.user.contrats.find(function(e){return e.id==t.selected})||{demandes:[]}}}}),E=N,w=Object(m["a"])(E,b,U,!1,null,null,null);w.options.__file="Dashboard.vue";var y=w.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("img",{attrs:{alt:"Vue logo",src:s("cf05")}}),r("LoginForm")],1)},$=[],S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"LoginForm"}},[r("div",{staticClass:"wrapper fadeInDown"},[r("div",{attrs:{id:"formContent"}},[r("div",{staticClass:"fadeIn first"},[r("img",{attrs:{src:s("6aab"),id:"icon",alt:"User Icon"}}),r("h1",[t._v("Gestion des Temps et Activitées")]),t.hadLoginError?r("div",[r("div",{staticClass:"text-danger"},[t._v("/!\\ ------ mail/password don't match ------ /!\\")]),r("div",{staticClass:"text-danger"},[t._v("use admin/admin to get some fun ;)")])]):t._e()]),r("form",{on:{submit:function(e){return e.preventDefault(),t.doSubmit(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"fadeIn second",attrs:{type:"mail",id:"login",name:"login",placeholder:"user@domain.com",required:"true"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"fadeIn third",attrs:{type:"password",id:"password",name:"password",placeholder:"password",required:"true"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("input",{staticClass:"fadeIn fourth",attrs:{type:"submit",value:"Log In"}})]),r("div",{attrs:{id:"formFooter"}},[r("router-link",{staticClass:"underlineHover",attrs:{to:"/about"}},[t._v("Go to the Site")])],1)])])])},x=[],P={name:"LoginForm",mounted:function(){},methods:{doSubmit:function(t){console.log(this.login+"/"+this.password);var e=this.$root.login(this.login,this.password);void 0==e?this.hadLoginError=!0:(console.log("user logged"),this.$root.user=e,this.$root.isLoggin=!0,this.$router.push("/"))}},data:function(){return{login:"",password:"",hadLoginError:!1}}},R=P,L=(s("77e7"),Object(m["a"])(R,S,x,!1,null,"06936ef0",null));L.options.__file="LoginForm.vue";var A=L.exports,O={name:"login",components:{LoginForm:A},created:function(){console.log("login created")}},j=O,k=Object(m["a"])(j,D,$,!1,null,null,null);k.options.__file="Login.vue";var I=k.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profil"},[s("div",{staticClass:"row main"},[t.canEditName?s("div",{staticClass:"col-xl-4"},[s("SearchUser",{on:{loadUser:t.loadUser}})],1):t._e(),s("div",{class:{"col-xl-8":t.canEditName,"main-login main-center":!t.canEditName}},[s("div",{class:{"main-login main-center":t.canEditName}},[s("h1",[t._v("Profil")]),s("h3",[t._v(t._s(t.user.pseudo)+" - "+t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),s("form",{on:{submit:function(e){return e.preventDefault(),t.doSubmit(e)}}},[t.canEditName?s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"name"}},[t._v("First name")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.firstName,expression:"formUser.firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your First Name"},domProps:{value:t.formUser.firstName},on:{input:function(e){e.target.composing||t.$set(t.formUser,"firstName",e.target.value)}}})])])]):t._e(),t.canEditName?s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"name"}},[t._v("Last name")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.lastName,expression:"formUser.lastName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your Last Name"},domProps:{value:t.formUser.lastName},on:{input:function(e){e.target.composing||t.$set(t.formUser,"lastName",e.target.value)}}})])])]):t._e(),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"name"}},[t._v("Roles")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(2),s("v-select",{staticClass:"form-control",attrs:{id:"roles",multiple:"",options:this.$root.getRoles(),disabled:!t.canEditName},model:{value:t.formUser.roles,callback:function(e){t.$set(t.formUser,"roles",e)},expression:"formUser.roles"}})],1)])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"name"}},[t._v("Pseudo")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.pseudo,expression:"formUser.pseudo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your Pseudo",autocomplete:"username"},domProps:{value:t.formUser.pseudo},on:{input:function(e){e.target.composing||t.$set(t.formUser,"pseudo",e.target.value)}}})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"email"}},[t._v("Email")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.mail,expression:"formUser.mail"}],staticClass:"form-control",attrs:{type:"mail",placeholder:"Enter your Email"},domProps:{value:t.formUser.mail},on:{input:function(e){e.target.composing||t.$set(t.formUser,"mail",e.target.value)}}})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"password"}},[t._v("Password")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter your Password",autocomplete:"current-password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"username"}},[t._v("Phone number")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(6),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.tel,expression:"formUser.tel"}],staticClass:"form-control",attrs:{type:"tel",placeholder:"Enter Phone Number"},domProps:{value:t.formUser.tel},on:{input:function(e){e.target.composing||t.$set(t.formUser,"tel",e.target.value)}}})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"password"}},[t._v("Adresse")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(7),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.addresse.ville,expression:"formUser.addresse.ville"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your City"},domProps:{value:t.formUser.addresse.ville},on:{input:function(e){e.target.composing||t.$set(t.formUser.addresse,"ville",e.target.value)}}})])]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(8),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.addresse.cp,expression:"formUser.addresse.cp"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your Code Postal"},domProps:{value:t.formUser.addresse.cp},on:{input:function(e){e.target.composing||t.$set(t.formUser.addresse,"cp",e.target.value)}}})])]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(9),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.addresse.rue,expression:"formUser.addresse.rue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your Street"},domProps:{value:t.formUser.addresse.rue},on:{input:function(e){e.target.composing||t.$set(t.formUser.addresse,"rue",e.target.value)}}})])]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(10),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.addresse.complement,expression:"formUser.addresse.complement"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Something else ?"},domProps:{value:t.formUser.addresse.complement},on:{input:function(e){e.target.composing||t.$set(t.formUser.addresse,"complement",e.target.value)}}})])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"cols-sm-2 control-label",attrs:{for:"confirm"}},[t._v("Date de Naissance")]),s("div",{staticClass:"cols-sm-10"},[s("div",{staticClass:"input-group"},[t._m(11),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formUser.ddn,expression:"formUser.ddn"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Confirm your Date de Naissance"},domProps:{value:t.formUser.ddn},on:{input:function(e){e.target.composing||t.$set(t.formUser,"ddn",e.target.value)}}})])])]),s("div",{staticClass:"form-group "},[s("h2",[s("input",{staticClass:"my_button",attrs:{type:"submit",value:"Save Personal Data"}}),t.canCreateUser?s("span",[t._v(" - "),s("input",{staticClass:"my_button",attrs:{type:"button",value:"Create new User"},on:{click:function(e){t.createUser()}}})]):t._e()])])])])])])])},M=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-user fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-user fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-user fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-user fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-envelope fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-user fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-users fa",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-lock fa-lg",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-lock fa-lg",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-lock fa-lg",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-lock fa-lg",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-addon"},[s("i",{staticClass:"fa fa-lock fa-lg",attrs:{"aria-hidden":"true"}})])}],T=s("4a7a"),B=s.n(T),H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"SearchUser"}},[s("div",{staticClass:"main-login main-center"},[s("h1",[t._v(" Rechercher ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.recherche,expression:"recherche"}],staticClass:"form-control",attrs:{type:"text",placeholder:"firstName, lastName, pseudo, mail"},domProps:{value:t.recherche},on:{input:function(e){e.target.composing||(t.recherche=e.target.value)}}}),s("br"),t.rechercheResult.firstName.length>0?s("div",[s("h3",[t._v("Find by FirstName :")]),t._l(t.rechercheResult.firstName,function(e){return s("div",[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" ( "+t._s(e.mail)+" ) "),s("img",{staticClass:"imgLoadUser",attrs:{src:"https://static.thenounproject.com/png/370577-200.png"},on:{click:function(s){t.loadUser(e)}}})])})],2):t._e(),t.rechercheResult.lastName.length>0?s("div",[s("h3",[t._v("Find by LastName :")]),t._l(t.rechercheResult.lastName,function(e){return s("div",[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" ( "+t._s(e.mail)+" ) "),s("img",{staticClass:"imgLoadUser",attrs:{src:"https://static.thenounproject.com/png/370577-200.png"},on:{click:function(s){t.loadUser(e)}}})])})],2):t._e(),t.rechercheResult.pseudo.length>0?s("div",[s("h3",[t._v("Find by Pseudo :")]),t._l(t.rechercheResult.pseudo,function(e){return s("div",[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" ( "+t._s(e.mail)+" ) "),s("img",{staticClass:"imgLoadUser",attrs:{src:"https://static.thenounproject.com/png/370577-200.png"},on:{click:function(s){t.loadUser(e)}}})])})],2):t._e(),t.rechercheResult.mail.length>0?s("div",[s("h3",[t._v("Find by Mail :")]),t._l(t.rechercheResult.mail,function(e){return s("div",[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" ( "+t._s(e.mail)+" ) "),s("img",{staticClass:"imgLoadUser",attrs:{src:"https://static.thenounproject.com/png/370577-200.png"},on:{click:function(s){t.loadUser(e)}}})])})],2):t._e()])])},J=[],G={name:"SearchUser",props:{},data:function(){return{recherche:"",rechercheResult:{firstName:[],lastName:[],pseudo:[],mail:[]}}},methods:{loadUser:function(t){this.$emit("loadUser",t)}},watch:{recherche:function(t){t.length>0?(console.log(t),this.rechercheResult=this.$root.findUser(t,t,t,t),console.log(this.rechercheResult)):this.rechercheResult={firstName:[],lastName:[],pseudo:[],mail:[]}}}},X=G,q=(s("a8ad"),Object(m["a"])(X,H,J,!1,null,"2a7d277c",null));q.options.__file="SearchUser.vue";var z=q.exports,K={name:"profil",components:{vSelect:B.a,SearchUser:z},created:function(){console.log("profil created"),this.user=this.$root.getLoggedUser(),this.formUser=this.$root.getLoggedUser(),this.canEditName=this.$root.isDRH(this.user)||this.$root.isAdmin(this.user),this.canCreateUser=this.$root.isDRH(this.user)||this.$root.isAdmin(this.user),this.isAdmin=this.$root.isAdmin(this.user)},data:function(){return{user:{},formUser:{},canEditName:!1,canCreateUser:!1,isAdmin:!1}},methods:{doSubmit:function(){this.$root.saveUser(this.formUser),alert("Personal Data Saved")},createUser:function(){this.formUser.mail!=this.formUser.mail&&(this.$root.createUser(this.formUser),alert("User Created"))},loadUser:function(t){this.user=t,this.formUser=t}},computed:{},watch:{}},V=K,Y=(s("49e5"),Object(m["a"])(V,F,M,!1,null,"fc9f1d56",null));Y.options.__file="Profil.vue";var W=Y.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"planning"},[s("div",{staticClass:"row main",attrs:{id:"planningContainer"}},[t.canEditName?s("div",{staticClass:"col-xl-4"},[s("SearchUser",{on:{loadUser:t.loadUser}})],1):t._e(),s("div",{class:{"col-xl-8":t.canEditName,container:!t.canEditName}},[s("h1",[t._v("Planning")]),s("div",{attrs:{id:"PlanningComponentFromPlanning"}},[s("PlanningComponent",{attrs:{user:t.user,mondayDate:t.mondayDate}})],1)])])])},Z=[],tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"PlanningComponent"}},[s("div",[s("b-form-group",[s("b-form-radio-group",{attrs:{buttons:"",options:t.options,name:"radiosBtnDefault"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),t.selected>-1?s("div",{staticClass:"row"},t._l(t.selectedContract.horaire,function(e,r){return s("div",{staticClass:"col",attrs:{id:"myCalendar"}},[s("div",{staticClass:"cel title"},[t._v(" "+t._s(t.getCelDate(r))+" ")]),t._l(t.dayToArray(e),function(e){return s("div",{staticClass:"cel",class:{active:e.active},on:{click:function(s){t.clickCel(e)}}},[t._v(t._s(e.horaire))])})],2)})):t._e(),t.selected<=-1?s("div",{staticClass:"row"},[s("h2",[t._v(" ! - Aucun contrat n'est selectionné / Actif - ! ")])]):t._e()])},et=[],st=(s("28a5"),s("c5f6"),{name:"PlanningComponent",created:function(){console.log("PlanningComponent created"),this.selected=this.getCurrentContract(this.user).id,this.user.contrats.sort(function(t,e){return t.dateDebut<=e.dateDebut})},mounted:function(){},methods:{isDateBetwin:function(t,e,s){var r=60*Number(t.split("h")[0])+Number(t.split("h")[1]),a=60*Number(e.split("h")[0])+Number(e.split("h")[1]),o=60*Number(s.split("h")[0])+Number(s.split("h")[1]);return a<=r&&r<o},dayToArray:function(t){for(var e=["h00","h30"],s=[],r=7;r<22;r++)for(var a=0;a<2;a++){var o={active:!1,horaire:r+e[a]};t.length>0&&(this.isDateBetwin(o.horaire,t[0][0],t[0][1])||this.isDateBetwin(o.horaire,t[1][0],t[1][1]))&&(o.active=!0),s.push(o)}return s},getCurrentContract:function(t){var e=this;return t.contrats.find(function(t){return t.dateDebut<=e.$root.formatDate(new Date)&&e.$root.formatDate(new Date)<=t.dateFin})||{id:-1}},updateUser:function(t){this.user=t},getCelDate:function(t){return this.$root.formatDate(new Date(new Date(this.mondayDate).getTime()+24*t*60*60*1e3))},clickCel:function(t){alert(t.horaire+" - "+t.active)}},data:function(){return{selected:""}},computed:{options:function(){return this.user.contrats.map(function(t){return{text:t.titre,value:t.id}})},selectedContract:function(){var t=this;return this.user.contrats.find(function(e){return e.id==t.selected})||{horaire:[[],[],[],[],[],[],[]]}}},watch:{user:{handler:function(t){this.selected=this.getCurrentContract(this.user).id}}},props:{user:Object,mondayDate:String}}),rt=st,at=(s("5065"),Object(m["a"])(rt,tt,et,!1,null,"fd33322c",null));at.options.__file="PlanningComponent.vue";var ot=at.exports,nt={name:"planning",components:{SearchUser:z,PlanningComponent:ot},created:function(){this.user=this.$root.getLoggedUser(),this.canEditName=this.$root.isDRH(this.user)||this.$root.isAdmin(this.user),this.mondayDate=this.$root.formatDate(new Date((new Date).getTime()-24*((new Date).getDay()-1)*60*60*1e3))},data:function(){return{canEditName:!1,user:{},mondayDate:"2018-11-19"}},methods:{loadUser:function(t){this.user=t}},computed:{},watch:{}},it=nt,lt=(s("1923"),Object(m["a"])(it,Q,Z,!1,null,"3544b40e",null));lt.options.__file="Planning.vue";var ct=lt.exports;r["a"].use(C["a"]);var ut=new C["a"]({routes:[{path:"/",name:"dashboard",component:y},{path:"/login",name:"login",component:I},{path:"/planning",name:"planning",component:ct},{path:"/profil",name:"profil",component:W},{path:"/about",name:"about",component:function(){return s.e("about").then(s.bind(null,"f820"))}}]}),dt=(s("6762"),s("2fdb"),["USER","TEAM_LEADER","DIRECTEUR_DES_RESSOURCES_HUMAINES","ADMIN"]),mt=function(){return JSON.parse(localStorage.getItem("data"))},ft=function(t){return localStorage.setItem("data",JSON.stringify(t))},pt=function(){null==mt()&&ft({users:[{id:0,password:"admin",pseudo:"Admin",firstName:"Matthieu",lastName:"Fournier",ddn:"1996-06-10",tel:"00 11 22 33 44",addresse:{cp:"44200",ville:"Nantes",rue:"XX rue de la rue",complement:"12em etage"},mail:"admin@domain.com",roles:["USER","TEAM_LEADER","DIRECTEUR_DES_RESSOURCES_HUMAINES","ADMIN"],contrats:[{id:0,titre:"Contrat test pour user",dateDebut:"2018-11-08",dateFin:"2018-11-16",nbHeureSemaine:35,horaire:[[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[],[]],demandes:[]},{id:1,titre:"Contrat 2",dateDebut:"2018-11-19",dateFin:"2018-11-30",nbHeureSemaine:35,horaire:[[["08h30","12h00"],["13h30","17h00"]],[["08h30","12h00"],["13h30","17h00"]],[["08h30","12h00"],["13h30","17h00"]],[["08h30","12h00"],["13h30","17h00"]],[["08h30","12h00"],["13h30","17h00"]],[],[]],demandes:[]}]},{id:1,password:"user",pseudo:"BenjaminBarsseur",firstName:"Benjamin",lastName:"Brasseur",ddn:"1996-06-10",tel:"00 11 22 33 44",addresse:{cp:"44200",ville:"Nantes",rue:"XX rue de la rue",complement:"12em etage"},mail:"user@domain.com",roles:["USER"],contrats:[{id:2,titre:"Contrat 2",nbHeureSemaine:35,horaire:[[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[["09h30","12h00"],["13h30","18h00"]],[],[]],dateDebut:"2018-11-08",dateFin:"2018-11-16",demandes:[{id:"CONGE_PAYE",title:"Congé payé",jourPayer:!0,dates:["2018-11-12"]},{id:"RECUPERATION",title:"Récupération",jourPayer:!0,dates:["2018-11-13"]},{id:"AMENAGEMENT_HORAIRE",title:"Aménagment d'horaire",jourPayer:!0,dates:["2018-11-14"]},{id:"ABSENCE",title:"Absence",jourPayer:!1,dates:["2018-11-15"]}]}]}]})},vt={getData:function(){return mt()},setData:function(t){return ft(t)},resetData:function(){localStorage.removeItem("data"),sessionStorage.removeItem("user"),pt()},isLogged:function(){return null!=sessionStorage.getItem("user")},isLoggin:!1,getLoggedUser:function(){return JSON.parse(sessionStorage.getItem("user"))},logout:function(){return sessionStorage.removeItem("user")},login:function(t,e){pt();var s=mt().users.find(function(s){return s.mail==t&&s.password==e});return void 0!=s&&sessionStorage.setItem("user",JSON.stringify(s)),s},saveUser:function(t){var e=mt(),s=e.users.map(function(t){return t.id}).indexOf(t.id);e.users[s]=t,ft(e),JSON.parse(sessionStorage.getItem("user")).id==t.id&&sessionStorage.setItem("user",JSON.stringify(t))},isAdmin:function(t){return t.roles.indexOf("ADMIN")>-1},isDRH:function(t){return t.roles.indexOf("DIRECTEUR_DES_RESSOURCES_HUMAINES")>-1},getRoles:function(){return dt},createUser:function(t){var e=mt();t.id=(new Date).getTime(),e.users.push(t),ft(e)},findUser:function(t,e,s,r){var a=mt().users,o={firstName:a.filter(function(e){return e.firstName.toUpperCase().includes(t.toUpperCase())})||[],lastName:a.filter(function(t){return t.lastName.toUpperCase().includes(e.toUpperCase())})||[],pseudo:a.filter(function(t){return t.pseudo.toUpperCase().includes(s.toUpperCase())})||[],mail:a.filter(function(t){return t.mail.toUpperCase().includes(r.toUpperCase())})||[]};return o},formatDate:function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}};r["a"].config.productionTip=!1,r["a"].use(a["a"]),new r["a"]({router:ut,data:vt,render:function(t){return t(_)}}).$mount("#app")},6422:function(t,e,s){"use strict";var r=s("3beb"),a=s.n(r);a.a},"64a9":function(t,e,s){},"6aab":function(t,e,s){t.exports=s.p+"img/login-img.333fd4c3.jpg"},"77e7":function(t,e,s){"use strict";var r=s("bf9a"),a=s.n(r);a.a},8235:function(t,e,s){},"9d1f":function(t,e,s){},a4e9:function(t,e,s){},a8ad:function(t,e,s){"use strict";var r=s("9d1f"),a=s.n(r);a.a},bf97:function(t,e,s){},bf9a:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.d5cce27a.js.map